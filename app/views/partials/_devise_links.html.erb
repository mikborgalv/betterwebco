<%# LOGGED IN â€” USER OR ADMIN %>
<% if user_signed_in? || admin_user_signed_in? %>
  <% display_name = user_signed_in? ? current_user.email : current_admin_user.email %>

  <li class="nav-item dropdown">
    <a 
      class="nav-link dropdown-toggle" 
      href="#" 
      id="userMenu" 
      role="button" 
      data-bs-toggle="dropdown"
    >
      <span class="me-1">ðŸ‘‹</span> <%= display_name %>
    </a>

    <ul class="dropdown-menu dropdown-menu-end mt-2 shadow" aria-labelledby="userMenu">
      <% if user_signed_in? %>
        <li><%= link_to "Dashboard", users_dashboard_path, class: "dropdown-item" %></li>
        <li><hr class="dropdown-divider"></li>
      <% end %>

      <li>
        <%= button_to(
          user_signed_in? ? destroy_user_session_path : "/admin/logout",
          method: :delete,
          form: { data: { turbo: true } },
          class: "dropdown-item text-danger"
        ) do %>
          Sign Out
        <% end %>
      </li>
    </ul>
  </li>

<%# LOGGED OUT â€” SIGN IN + GET STARTED %>
<% else %>
  <li class="nav-item">
    <%= link_to "Sign In", new_user_session_path, class: "nav-link px-3" %>
  </li>

  <%# <li class="nav-item my-2 my-lg-0"> %>
    <%# On desktop: normal small button / On mobile: full width CTA %>
    <%#link_to "Sign Up", new_user_registration_path, 
          class: "btn btn-warning" %>
  <%# </li> %>
<% end %>
